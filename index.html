<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1024px, initial-scale=1">
    <title>skymart - easy to shop</title>
    <link rel="icon" type="image/png" href="20241021_200736.jpg"> 
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<style>
    body {
        font-family: 'Arial', sans-serif;
        background-color: #f4f4f4;
        margin: 0;    }
    #product-list {
    display: flex;
    flex-wrap: wrap;
    padding: 20px;
    justify-content: center;
    gap: 20px; /* Space between cards */
}

.product-card {
    position: relative;
    background: linear-gradient(145deg, #ffffff, #f9f9f9);
    border-radius: 20px;
    width: 300px; /* Default width for larger screens */
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    transition: transform 0.3s, box-shadow 0.3s;
}

.product-image {
    text-align: center; /* Center-aligns the image */
    height: 200px; /* Fixed height for images */
    overflow: hidden; 
    margin: 10px;/* Hides overflow for round images */
}

.product-image img {
    margin: 10px;
    display: inline-block; /* Aligns the image as an inline element */
    max-width: 100%; /* Ensures image is responsive */
    max-height: 100%; /* Ensures image does not exceed container */
    object-fit: cover; /* Ensures images cover the area without distortion */
    border-radius: 20px 20px 0 0; /* Rounds the top corners */
    transition: transform 0.3s; /* Smooth zoom on hover */
}

.product-card:hover .product-image img {
    transform: scale(1.1); /* Zoom effect on hover */
}

.product-info {
    text-align: left;
    padding: 20px;
}

.product-title {
    text-align: left;
    font-size: 1.5rem;
    font-weight: bold;
    color: #333;
    margin: 10px 0;
}

.product-price {
    text-align: center;
    color: #ff5722;
    font-size: 1.4rem;
    margin: 10px 0;
}

.product-rating {
    text-align: left;
    color: #ffcc00;
    margin: 5px 0;
}

.product-buttons {
    display: flex;
    justify-content: space-between;
    margin-top: 10px;
}

button {
    flex: 1; /* Ensures the button takes up available space */
    padding: 10px;
    border: none;
    border-radius: 30px; /* More rounded buttons */
    font-size: 1rem;
    cursor: pointer;
    transition: background-color 0.3s, transform 0.2s;
}

.buy-now {
    background-color: #7FFF00;
    color: #fff;
    margin: 5px;
}

.add-to-cart {
    background-color: #8A2BE2;
    color: #fff;
    margin: 5px;
}

.buy-now:hover,
.add-to-cart:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
}

/* Media query for mobile devices */
@media (max-width: 768px) {
    .product-card {
        width: calc(50% - 10px); /* Two items per row with a gap */
    }

    #product-list {
        justify-content: space-between; /* Adjusts spacing for mobile */
    }
    .product-buttons {
        flex-direction: column; /* Stack buttons vertically */
        align-items: stretch; /* Make buttons full width */
    }

    button {
        margin: 5px 0; /* Add margin between stacked buttons */
    }
    .product-title {
        font-size: 1.3rem; /* Slightly smaller title */
    }

    .product-price {
        font-size: 1.2rem; /* Slightly smaller price */
    }
}


    .not-found {
        text-align: center;
        color: #ff0000;
        font-size: 1.2rem;
        margin-top: 20px;
    }
    .cart-icon {
            position: relative;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -10px;
            background-color: red;
            color: white;
            border-radius: 50%;
            padding: 3px 7px;
            font-size: 0.8rem;
        }
        .product-share {
    font-size: 2rem; /* Keep this size for visibility */
    color: #414141;
    cursor: pointer;
    transition: color 0.3s, transform 0.2s, box-shadow 0.2s; /* Add transition for shadow */
    margin-left: 10px; /* Spacing */
    background-color: #f0f0f0; /* Light background */
    border-radius: 50%; /* Circular background */
    padding: 10px; /* Padding for background */
}

.product-share:hover {
    color: #000000; /* Change color on hover */
    transform: scale(1.1); /* Slightly increase size */
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); /* Add shadow effect */
}

/* Optional Tooltip styling */
.product-share::after {
    content: 'Share'; /* Tooltip text */
    position: absolute;
    background-color: #333; /* Dark background for tooltip */
    color: #fff; /* White text */
    padding: 5px 10px;
    border-radius: 5px;
    white-space: nowrap;
    bottom: 125%; /* Position above the icon */
    left: 50%;
    transform: translateX(-50%);
    opacity: 0;
    visibility: hidden; /* Hide initially */
    transition: opacity 0.3s;
    z-index: 1; /* Ensure it appears above other elements */
}

.product-share:hover::after {
    opacity: 1; /* Show tooltip on hover */
    visibility: visible; /* Make it visible */
}

/* Adjust the size of the share icon */
.fa-share-alt {
    font-size: 25px; /* Increase or decrease size */
    color: #636363; /* Icon color */
    cursor: pointer; /* Makes the cursor a pointer when hovering */
    padding: 10px;
    margin-right: 10px;
    float: right;
    transition: color 0.3s ease; /* Smooth hover transition */
}

/* Add hover effect to the share icon */
.fa-share-alt:hover {
    color: #000000; /* Change color on hover */
    transform: scale(1.1); /* Slightly increase size on hover */
}
.logo {
    display: flex;
    align-items: center;
}

.logo-image {
    height: 130px; /* Adjust height based on how large you want the logo */
    width: 210px;   /* Maintains the aspect ratio */
    margin-right: 10px;
    margin-left: 10px;
    border-radius: 50%; /* Adds space between the logo and the text */
}
@media (max-width: 768px) {
    .logo-image{width: auto;
        height: 70px;
   }
    
}
.logo-img {
    height: 50px; /* Adjust height based on how large you want the logo */
    width: 100px;   /* Maintains the aspect ratio */
    margin-right: 10px;
    margin-left: 10px;
    border-radius: 50%; /* Adds space between the logo and the text */
}

.logo b {
    font-size: 1.5rem;
    color: #333;
    text-decoration: none;
}
.container1 {
            overflow-x: auto; /* Enables horizontal scrolling */
            white-space: nowrap; /* Prevents line breaks */
            padding: 20px;
            align-items: center;
            border: 2px solid #ccc; /* Optional: Add a border to the container */
        }

        .image-list {
            display: inline-flex; /* Displays images in a row */
            flex-direction: column; /* Aligns items vertically in each column */
            align-content: center; /* Centers text under each image */
            margin-right: 20px; /* Space between items */
        }

        .image-list img {
            width: 100px; /* Set the desired width */
            height: 100px; 
            text-align: center;/* Set the desired height */
            border-radius: 50%; /* Makes the image circular */
            object-fit: cover; /* Ensures the image covers the circular area */
        }

        .image-text {
            margin-top: 5px; /* Space between image and text */
            text-align: center; /* Center-aligns the text */
        }
        @media(max-width: 768px) {
            .container {
                height: 120px; /* Adjust height for smaller screens */
            }

            .image-list img {
                width: 80px; /* Decrease image size for smaller screens */
                height: 80px; /* Decrease height for smaller screens */
            }

            .image-text {
                font-size: 10px; /* Smaller font size for text */
            }
        }





       
</style>
<body>

   
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="container">
            <a href="#" class="logo">
                <img src="20241021_180509.png" alt="Logo" class="logo-image"></a>
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Search for products..." id="search-input">
            </div>
            
            <div class="nav-icons">
            
                <a href="#" class="icon"><i class="far fa-question-circle"></i></a>
                <div class="cart-icon" onclick="viewCart()">
                    <i class="fas fa-shopping-cart"></i>
                    <span id="cart-count" class="cart-count">0</span>
                </div>

            </div>
        </div>
    </nav>
    <div class="container1">
        <div class="image-list">
            <img src="https://via.placeholder.com/100" alt="Image 1">
            <div class="image-text">Image 1</div>
        </div>
        <div class="image-list">
            <img src="https://via.placeholder.com/100" alt="Image 2">
            <div class="image-text">Image 2</div>
        </div>
        <div class="image-list">
            <img src="https://via.placeholder.com/100" alt="Image 3">
            <div class="image-text">Image 3</div>
        </div>
        <div class="image-list">
            <img src="https://via.placeholder.com/100" alt="Image 4">
            <div class="image-text">Image 4</div>
        </div>
        <div class="image-list">
            <img src="https://via.placeholder.com/100" alt="Image 5">
            <div class="image-text">Image 5</div>
        </div>
        <div class="image-list">
            <img src="https://via.placeholder.com/100" alt="Image 6">
            <div class="image-text">Image 6</div>
        </div>
        <div class="image-list">
            <img src="https://via.placeholder.com/100" alt="Image 7">
            <div class="image-text">Image 7</div>
        </div>
    </div>

    <main>
        <div id="product-list"></div>
        <div id="not-found" class="not-found" style="display:none;">No products found.</div>


        <div class="qr-container" id="qr-container" style="display:none;">
            <h3>Scan to Pay</h3>
            <div id="qr-code"></div>
            <p id="instructions"></p>
        </div>

       
         
        <!-- Page content goes here -->
    </main>


    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-left">
                <h4><img src="20241021_180509.png" alt="Logo" class="logo-img"></h4>
                <p>&copy; 2024 skymart. All Rights Reserved.</p>
            </div>
            <div class="footer-right">
                <ul class="social-icons">
                    <li><a href="#"><i class="fab fa-facebook-f"></i></a></li>
                    <li><a href="#"><i class="fab fa-twitter"></i></a></li>
                    <li><a href="#"><i class="fab fa-instagram"></i></a></li>
                    <li><a href="#"><i class="fab fa-whatsapp"></i></a></li>
                </ul>
            </div>
        </div>
    </footer>

    
    



    <script>




document.addEventListener("DOMContentLoaded", function() {
        const searchInput = document.querySelector('.search-input');

        // Expand input on focus
        searchInput.addEventListener('focus', function() {
            if (window.innerWidth <= 768) { // Check if the viewport is mobile
                this.style.width = '300px'; // Expand to desired width on focus
            }
        });

        // Collapse back to 50px width when the input loses focus
        searchInput.addEventListener('blur', function() {
            if (window.innerWidth <= 768) { // Check if the viewport is mobile
                this.style.width = '230px'; // Change back to initial width
            }
        });
    });
        const googleSheetURL = 'https://script.google.com/macros/s/AKfycbyHPTLTCFMnVP3tJzNa-i8o9n82aKeyRSW2HszLukJHbu6SLBI8aIv-Ys_iDWLfr1Qh/exec'; 

        let products = []; // Store fetched products here
        let cart = JSON.parse(localStorage.getItem('cart')) || [];


        function updateCartCount() {
            const cartCountElement = document.getElementById('cart-count');
            cartCountElement.innerText = cart.length; // Update the count
        }

        // Fetch products from Google Sheets
        fetch(googleSheetURL)
            .then(response => response.json())
            .then(data => {
                products = data; // Store products in the global variable
                displayProducts(products); // Initially display all products
            })
            .catch(error => console.log('Error fetching data:', error));

        function displayProducts(productList) {
    const productContainer = document.getElementById('product-list');
    const notFoundMessage = document.getElementById('not-found');
    productContainer.innerHTML = ''; // Clear previous products

    if (productList.length === 0) {
        notFoundMessage.style.display = 'block'; // Show "not found" message
    } else {
        notFoundMessage.style.display = 'none'; // Hide "not found" message
        productList.forEach(product => {
            const productCard = `
                <div class="product-card">
                    <div class="product-image">
                        <img src="${product.imageUrl}" alt="${product.name}">
                        </div>
                    <div class="product-info">
                        <h4 class="product-title">${product.name}</h4>
                        <div class="product-rating">
                            ${'<i class="fas fa-star"></i>'.repeat(Math.floor(product.rating))} 
                            ${product.rating % 1 ? '<i class="fas fa-star-half-alt"></i>' : ''}
                            <span class="review-count">(${Math.floor(Math.random() * 100 + 50)} reviews)</span>
                            <i class="fas fa-share-alt" onclick="shareProduct('${product.name}', ${product.price})"></i>
                        </div>
                        <p class="product-price"> â‚¹ ${product.price}</p>
                        <p class="product-description">${product.description}</p>
                        <div class="product-buttons">
                             <button class="buy-now" onclick="window.location.href='order.html?name=${encodeURIComponent(product.name)}&price=${product.price}&image=${encodeURIComponent(product.imageUrl)}&description=${encodeURIComponent(product.description)}'">Buy Now</button>
                            <button class="add-to-cart" onclick="addToCart('${product.name}', ${product.price}, '${product.imageUrl}', '${product.description}')">Add to Cart</button>
                
                            </div>
                    </div>
                </div>
            `;
            productContainer.innerHTML += productCard;
        });
    }
    updateCartCount();
}


        function addToCart(name, price, imageUrl, description) {
    const item = { name, price, imageUrl, description }; // Include imageUrl and description
    cart.push(item); // Add item to cart
    localStorage.setItem('cart', JSON.stringify(cart)); // Save cart to localStorage
    updateCartCount(); // Update cart count in navbar
    alert(`${name} has been added to your cart!`,"Product Added"); // Notify user
}





        function viewCart() {
    window.location.href = 'viewcart.html'; // Redirect to viewcart.html
}

function generateShareUrl(name, price) {
    const baseUrl = 'https://skymart-shop.github.io/home';
    const encodedName = encodeURIComponent(name);
    const shareUrl = `${baseUrl}?product=${encodedName}&price=${price}`;
    return shareUrl;
}

function shareProduct(name, price) {
    const url = generateShareUrl(name, price);
    if (navigator.share) {
        navigator.share({
            title: `Check out this product: ${name}`,
            url: url
        }).catch(error => console.log('Error sharing', error));
    } else {
        alert('Sharing is not supported on this device.');
    }
}




        // Search functionality
        const searchInput = document.getElementById('search-input');
        searchInput.addEventListener('input', () => {
            const query = searchInput.value.toLowerCase();
            const filteredProducts = products.filter(product => {
                return (
                    product.name.toLowerCase().includes(query) ||
                    product.price.toString().includes(query) ||
                    product.description.toLowerCase().includes(query)
                );
            });
            displayProducts(filteredProducts);
        });
    </script>
</body>
</html>
